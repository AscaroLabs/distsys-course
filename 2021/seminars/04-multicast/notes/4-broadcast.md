# Задача 4-broadcast 

## Основные моменты из лекции

### О чем нужно всегда думать

- адресация участников группы
- надежность и семантика доставки
- порядок доставки
- семантика ответа
- состав и открытость группы

## Формулировка задачи

Есть распределенное приложение типа чата.  
`Считаем что количество пользователей фиксировано`.  
Чат один и сообщаения в нем доствляются `всем пользователям`.  
Считаем, что `каждое отправляемое сообщение  уникально` в рамках теста.  
Сначала дотупен только `unicast`, нужно сделать `broadcast`.  
Передача сообщений происходит через надежный транспорт, гарантирующий `exactly once` доствку сообщений.  
Сами узлы могут быть подвержениы отказам(падениям). Считаем, что однажды отказавший узел обратно в систему не возвращается.  
Будем считать, что `корректных узлов большинство`.  

### Наша реализация должна удовлетворять следующим свойствам:

1. **No Duplication:** Сообщения доставляются пользователю не более одного раза (нет повторов).
2. **No Creation:** Если пользователю доставлено сообщение _m_ от пользователя _u_, то _m_ было ранее отправлено _u_.
3. **Validity:** Если пользователь корректного узла _n_ отправил сообщение _m_, то _n_ должен в конце концов доставить _m_ пользователю.
4. **Uniform Agreement:** Если сообщение _m_ было доставлено на некотором узле (необязательно корректном), то _m_ будет в конце концов доставлено на каждом корректном узле.
5. **Causal Order:** Сообщения доставляются с сохранением причинно-следственных зависимостей - если узел _n_ доставил сообщение _m_ от пользователя _u_, то перед этим _n_ должен доставить все сообщения, которые могли повлиять на _m_ (сообщения, отправленные или доставленные _u_ до отправки им _m_).

Ограничений на производительность не накладывается.

## Раелизация

При инциализации узлу передается уникальный id, а таже список id всех узлов в системе.

Если нет ограничений на производительность, то будем использовать Eager Reliable Multicast, т.е. при получении сообщения рассылать его всем другим узлам (презентация `слайд 23`).  
Еще нам нужен Causal Order (презентация `слайд 35-36`) 